const u="preferred-language",l="de";function g(){const e=document.getElementById("language-toggle-de"),n=document.getElementById("language-toggle-en");if(!e||!n)return;const i=localStorage.getItem(u)||l;r(i),s(i),e.addEventListener("click",()=>c("de")),n.addEventListener("click",()=>c("en"))}function c(e){localStorage.setItem(u,e),r(e),s(e)}function r(e){const n=document.getElementById("language-toggle-de"),i=document.getElementById("language-toggle-en");!n||!i||(n.classList.toggle("active",e==="de"),i.classList.toggle("active",e==="en"))}function s(e){document.documentElement.setAttribute("lang",e);const n=new CustomEvent("languagechange",{detail:{language:e}});document.dispatchEvent(n),document.querySelectorAll("[data-i18n-en]").forEach(t=>{const a=t.getAttribute("data-i18n-en"),o=t.getAttribute("data-i18n-de");if(e==="en"&&a)t.hasAttribute("data-i18n-original")||t.setAttribute("data-i18n-original",t.textContent||""),t.textContent=a;else if(e==="de")if(o)t.textContent=o;else{const d=t.getAttribute("data-i18n-original");d&&(t.textContent=d)}}),document.querySelectorAll("[data-i18n-html-en]").forEach(t=>{const a=t.getAttribute("data-i18n-html-en"),o=t.getAttribute("data-i18n-html-de");if(e==="en"&&a)t.hasAttribute("data-i18n-html-original")||t.setAttribute("data-i18n-html-original",t.innerHTML||""),t.innerHTML=a;else if(e==="de")if(o)t.innerHTML=o;else{const d=t.getAttribute("data-i18n-html-original");d&&(t.innerHTML=d)}})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",g):g();document.addEventListener("astro:page-load",g);
