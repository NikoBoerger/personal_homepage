---
import {
	CustomerQuoteSection,
	ThreeColumnTextSection,
	StickyTextImageSection,
	CtaCardSection
} from '@components/odyssey-theme';
import Layout from '../layouts/Page.astro';
import TextAndImageHero from '../components/sections/heros/TextAndImageHero.astro';

const seo = {
	title: 'Niko Börger',
	description: 'Freiberuflicher Senior Fullstack Developer',
};

const availabilityDateStr = '2026-04-01';
---

<Layout {seo}>
	<TextAndImageHero reversed>
		<div slot="text-container">
			<h1>Niko Börger</h1>
			<p class="subtitle">Freiberuflicher Senior Fullstack Developer<br><span class="location">Hamburg, Germany</span></p>
			<span id="availability-badge" class="availability-badge badge" data-availability-date={availabilityDateStr}>vsl. verfügbar ab {availabilityDateStr.split('-').reverse().join('.')}</span>
			<div class="tech-badges">
				<span class="badge badge--primary">Java / Kotlin</span>
				<span class="badge badge--primary">TypeScript</span>
				<span class="badge badge--primary">AWS Cloud</span>
				<span class="badge badge--primary">Spring</span>
				<span class="badge badge--primary">Node.js</span>
				<span class="badge badge--primary">DevOps</span>
				<span class="badge badge--primary">Microservices</span>
				<span class="badge badge--primary">RESTful</span>
				<span class="badge badge--primary">TDD</span>
				<span class="badge badge--primary">Clean Code</span>
			</div>
		</div>
		<picture slot="image-container">
			<img
				src="/assets/images/profile_pic.jpg"
				alt="Astro Odyssee"
				id="home-hero-image"
			/>
		</picture>
	</TextAndImageHero>

	<CustomerQuoteSection
		quoteText="One difference between a smart programmer and a professional programmer is that the professional understands that clarity is king. Professionals use their powers for good and write code that others can understand."
		customerName='Buch "Clean Code" von Robert C. Martin'
	/>

	<ThreeColumnTextSection>
		<div slot="column-1-body">
			<h2>Was?</h2>
			<p>
				Ich verbinde höchste Codequalität mit echter Teamkultur. Ich bin nicht nur Entwickler,
				ich bin <strong>Entstresser</strong>. Ob Legacy-Monster, chaotisches MVP oder Grüne-Wiese-
				Projekt: Ich sorge mit Struktur dafür, dass ein Projekt nicht implodiert, sondern
				erfolgreich skaliert.
			</p>
		</div>
		<div slot="column-2-body">
			<h2>Warum?</h2>
			<p>
				Weil instabile Software Teams ausbremst, Budgets verbrennt und Vertrauen kostet.
				Ich werde geholt, wenn Projekte ins Stocken geraten, technische Schulden dominieren oder Qualität
				wieder zur verlässlichen Basis werden muss.
			</p>
		</div>
		<div slot="column-3-body">
			<h2>Wie?</h2>
			<p>
				Mit klaren architektonischen Entscheidungen, hohem Qualitätsanspruch und einer ruhigen,
				strukturierten Arbeitsweise. Testgetrieben, cloud-native und immer im Sinne des Produkts und des Teams
				– weniger Chaos, weniger Bugs, weniger Drama.
			</p>
		</div>
	</ThreeColumnTextSection>

	<StickyTextImageSection>
		<div slot="text-container">
			<h2>Technische Exzellenz von Backend bis Cloud</h2>
			<h3>Backend</h3>
			<p>
				Mein Schwerpunkt liegt auf robusten, skalierbaren Backends mit klarer Architektur.
				In cross-funktionalen DevOps-Teams entwickle ich APIs, Microservices und
				eventgetriebene Systeme, die stabil laufen, sauber getestet sind und langfristig
				wartbar bleiben.
			</p>
			<h3>Frontend</h3>
			<p>
				Ich bringe umfangreiche Frontend-Erfahrung mit und habe unter anderem verschiedene
				Seiten auf <a href="https://www.otto.de" target="_blank" rel="noopener noreferrer">OTTO.de</a>
				mit aufgebaut. Dabei habe ich komplexe UIs umgesetzt, die sowohl technisch sauber als auch
				robust in Produktion liefen.
			</p>
			<h3>Cloud-Infrastruktur</h3>
			<p>
				Infrastruktur ist für mich Teil der Software, nicht Beiwerk.
				In DevOps-Setups automatisiere ich Build-, Test- und Deployment-Prozesse
				und baue Cloud- und Kubernetes-Umgebungen, die zuverlässig, sicher und
				beherrschbar sind.
			</p>
		</div>
		<picture slot="image-container">
			<img
				src="/assets/images/devops.png"
				alt="Astro nboerger"
				loading="lazy"
			/>
		</picture>
	</StickyTextImageSection>

	<CtaCardSection
		background="var(--theme-surface-2)"
		color="var(--theme-on-surface-2)"
	>
		<h2>Ihr Partner für individuelle Softwareprojekte</h2>
		<p>
			Kontaktieren Sie mich gern für ein unverbindliches Erstgespräch.
		</p>
		<div>
			<p>
				<em id="phone-placeholder">[Bitte Javascript aktivieren]</em> • <em id="mail-placeholder">[Bitte Javascript aktivieren]</em>
			</p>
		</div>
	</CtaCardSection>
	<script>
		const user = 'niko';
		const domain = 'boerger.dev';
		document.getElementById('mail-placeholder').innerHTML =
			`<a href="mailto:${user}@${domain}">${user}@${domain}</a>`;

		const phone = '+49 174 6098501';
		document.getElementById('phone-placeholder').innerHTML = `${phone}`;
	</script>
	<script>
		const badge = document.getElementById('availability-badge');
		if (badge) {
		  const availabilityDateStr = badge.getAttribute('data-availability-date');
		  const availabilityDate = new Date(availabilityDateStr);
		  const today = new Date();
		  const msPerMonth = 30.44 * 24 * 60 * 60 * 1000;
		  const diffMs = availabilityDate - today;
		  const diffMonths = diffMs / msPerMonth;
		  let badgeClass = 'badge--green';
		  if (diffMonths >= 8) {
		    badgeClass = 'badge--red';
		  } else if (diffMonths > 3.5) {
		    badgeClass = 'badge--yellow';
		  }
		  badge.classList.remove('badge--green', 'badge--yellow', 'badge--red');
		  badge.classList.add(badgeClass);
		}
	</script>
</Layout>
